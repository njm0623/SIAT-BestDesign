// CREATE TABLE

// USERS
CREATE TABLE SIAT.USERS
(  USERID VARCHAR2(30 BYTE) NOT NULL PRIMARY KEY,
   USERPWD VARCHAR2(40 BYTE) NOT NULL,
   USERNAME VARCHAR2(20 BYTE) NOT NULL,
   USEREMAIL VARCHAR2(50 BYTE) NOT NULL,
   USERBIRTH DATE NOT NULL,
   USERPHONE VARCHAR2(30 BYTE) NOT NULL,
   USERTYPE NUMBER NOT NULL
);

// DESIGNER
CREATE TABLE SIAT.DESIGNER 
(  DESIGNERID VARCHAR2(30 BYTE) NOT NULL PRIMARY KEY,
   DESIGNERPROFILE VARCHAR2(3000 BYTE),
   DESIGNERIMAGE VARCHAR2(100 BYTE),
   DESIGNERNICKNAME VARCHAR2(20 BYTE)
);

// MANAGER
CREATE TABLE SIAT.MANAGER
(  MANAGERID VARCHAR2(30 BYTE) NOT NULL PRIMARY KEY,
   MANAGERPWD VARCHAR2(40 BYTE) NOT NULL,
   MANAGERNAME VARCHAR2(20 BYTE) NOT NULL
);

// CHAT
CREATE TABLE SIAT.CHAT
(  CHATID NUMBER NOT NULL PRIMARY KEY, 
   CHATFROMID VARCHAR2(30 BYTE) NOT NULL, 
   CHATTOID VARCHAR2(30 BYTE) NOT NULL,
   CHATCONTENT VARCHAR2(120 BYTE) NOT NULL, 
   CHATDATE DATE NOT NULL, 
   CHATREAD NUMBER NOT NULL
);

// CONTACTBOARD
CREATE TABLE SIAT.CONTACTBOARD 
(  CONTACTNUM NUMBER NOT NULL PRIMARY KEY, 
   USERID VARCHAR2(30 BYTE) NOT NULL, 
   CONTACTTITLE VARCHAR2(150 BYTE) NOT NULL, 
   CONTACTCONTENT VARCHAR2(3000 BYTE) NOT NULL,
   CONTACTDATE DATE NOT NULL, 
   CONTACTISPUBLIC CHAR(1 BYTE) NOT NULL,
   CONTACTFILE VARCHAR2(100 BYTE),
   CONTACTANSWER VARCHAR2(3000 BYTE)
);

// SALEDEAL
CREATE TABLE SIAT.SALEDEAL 
(  DEALNUM NUMBER NOT NULL PRIMARY KEY,
   SALENUM NUMBER NOT NULL,
   DEALBUYERID VARCHAR2(30 BYTE) NOT NULL,
   DEALSELLERID VARCHAR2(30 BYTE) NOT NULL,
   DEALPRICE NUMBER NOT NULL,
   DEALDATE DATE NOT NULL,
   DEALIMAGE VARCHAR2(100 BYTE)NOT NULL
);

// REQUESTDEAL
CREATE TABLE SIAT.REQUESTDEAL
(  DEALNUM NUMBER NOT NULL PRIMARY KEY,
   REQUESTNUM NUMBER NOT NULL,
   DEALBUYERID VARCHAR2(30 BYTE) NOT NULL,
   DEALSELLERID VARCHAR2(30 BYTE) NOT NULL,
   DEALPRICE NUMBER NOT NULL,
   DEALDATE DATE NOT NULL,
   DEALIMAGE VARCHAR2(100 BYTE)   
);

// DESIGNERCART
CREATE TABLE SIAT.DESIGNERCART 
(  CARTNUM NUMBER NOT NULL PRIMARY KEY, 
   USERID VARCHAR2(30 BYTE) NOT NULL, 
   DESIGNERID VARCHAR2(30 BYTE) NOT NULL
);

// REQUESTBOARD
CREATE TABLE SIAT.REQUESTBOARD
(  REQUESTNUM NUMBER NOT NULL PRIMARY KEY, 
   USERID VARCHAR2(30 BYTE) NOT NULL, 
   REQUESTTITLE VARCHAR2(150 BYTE) NOT NULL, 
   REQUESTCONTENT VARCHAR2(3000 BYTE) NOT NULL, 
   REQUESTDATE DATE NOT NULL,
   REQUESTSTATE NUMBER NOT NULL,
   REQUESTIMAGE VARCHAR2(100 BYTE)
);

// REVIEW
CREATE TABLE SIAT.REVIEW 
(  REVIEWNUM NUMBER NOT NULL PRIMARY KEY, 
   SALENUM NUMBER NOT NULL, 
   USERID VARCHAR2(30 BYTE) NOT NULL,
   REVIEWDATE DATE NOT NULL,
   REVIEWRATE NUMBER NOT NULL, 
   REVIEWCOMENT VARCHAR2(3000 BYTE)   
);

// SALEBOARD
CREATE TABLE SIAT.SALEBOARD
(  SALENUM NUMBER NOT NULL PRIMARY KEY, 
   DESIGNERID VARCHAR2(30 BYTE) NOT NULL, 
   SALETITLE VARCHAR2(150 BYTE) NOT NULL, 
   SALECONTENT VARCHAR2(3000 BYTE) NOT NULL, 
   SALEIMAGE VARCHAR2(100 BYTE) NOT NULL, 
   SALEDATE DATE NOT NULL, 
   SALEPRICE NUMBER NOT NULL, 
   SALECATE VARCHAR2(30 BYTE) NOT NULL, 
   SALEVIEW NUMBER NOT NULL
);

// SALECART
CREATE TABLE SIAT.SALECART 
(  CARTNUM NUMBER NOT NULL PRIMARY KEY, 
   USERID VARCHAR2(30 BYTE) NOT NULL, 
   SALENUM NUMBER NOT NULL
);

// AUCTION
CREATE TABLE SIAT.AUCTION
(  AUCTIONNUM NUMBER NOT NULL PRIMARY KEY,
   REQUESTNUM NUMBER NOT NULL,
   USERID VARCHAR2(30) NOT NULL,
   AUCTIONPRICE NUMBER NOT NULL,
   AUCTIONDATE DATE NOT NULL,
   AUCTIONSTATE NUMBER NOT NULL,
   AUCTIONCOMMENT VARCHAR2(3000)
);


// ADD CONSTRAINTS

ALTER TABLE siat.chat
ADD CONSTRAINTS FK_chatToId FOREIGN KEY (chatToId)
REFERENCES siat.users(userId)
ON DELETE CASCADE;

ALTER TABLE siat.chat
ADD CONSTRAINTS FK_chatFromId FOREIGN KEY (chatFromId)
REFERENCES siat.users(userId)
ON DELETE CASCADE;

ALTER TABLE siat.designercart
ADD CONSTRAINTS FK_userId_desginerCart FOREIGN KEY (userId)
REFERENCES siat.users(userId)
ON DELETE CASCADE;

ALTER TABLE siat.designercart
ADD CONSTRAINTS FK_designerId_designerCart FOREIGN KEY (designerId)
REFERENCES siat.designer(designerId)
ON DELETE CASCADE;

ALTER TABLE siat.contactboard
ADD CONSTRAINTS FK_userId_contactBoard FOREIGN KEY (userId)
REFERENCES siat.users(userId)
ON DELETE CASCADE;

ALTER TABLE siat.requestboard
ADD CONSTRAINTS FK_userId_requestBoard FOREIGN KEY (userId)
REFERENCES siat.users(userId)
ON DELETE CASCADE;

ALTER TABLE siat.requestdeal
ADD CONSTRAINTS FK_dealrequestnum_requestdeal FOREIGN KEY (requestNum)
REFERENCES siat.requestboard(requestNum)
ON DELETE CASCADE;

ALTER TABLE siat.requestdeal
ADD CONSTRAINTS FK_dealbuyerId_requestdeal FOREIGN KEY (dealbuyerId)
REFERENCES siat.users(userId)
ON DELETE CASCADE;

ALTER TABLE siat.requestdeal
ADD CONSTRAINTS FK_dealsellerId_requestdeal FOREIGN KEY (dealsellerId)
REFERENCES siat.users(userId)
ON DELETE CASCADE;

ALTER TABLE siat.saledeal
ADD CONSTRAINTS FK_dealbuyerId_saledeal FOREIGN KEY (dealbuyerId)
REFERENCES siat.users(userId)
ON DELETE CASCADE;

ALTER TABLE siat.saledeal
ADD CONSTRAINTS FK_dealsellerId_saledeal FOREIGN KEY (dealsellerId)
REFERENCES siat.designer(designerId)
ON DELETE CASCADE;

ALTER TABLE siat.saledeal
ADD CONSTRAINTS FK_saleNum_saledeal FOREIGN KEY (salenum)
REFERENCES siat.saleboard(salenum)
ON DELETE CASCADE;

ALTER TABLE siat.salecart
ADD CONSTRAINTS FK_salecart_saleNum FOREIGN KEY (saleNum)
REFERENCES siat.saleboard(saleNum)
ON DELETE CASCADE;

ALTER TABLE siat.salecart
ADD CONSTRAINTS FK_salecart_userId FOREIGN KEY (userId)
REFERENCES siat.users(userId)
ON DELETE CASCADE;

ALTER TABLE siat.review
ADD CONSTRAINTS FK_review_userId FOREIGN KEY (userId)
REFERENCES siat.users(userId)
ON DELETE CASCADE;

ALTER TABLE siat.review
ADD CONSTRAINTS FK_review_salenum FOREIGN KEY (salenum)
REFERENCES siat.saleboard(salenum)
ON DELETE CASCADE;

ALTER TABLE siat.saleboard
ADD CONSTRAINTS FK_saleboard_designerId FOREIGN KEY (designerId)
REFERENCES siat.designer(designerId)
ON DELETE CASCADE;

ALTER TABLE siat.auction
ADD CONSTRAINTS FK_userId_auction FOREIGN KEY (userId)
REFERENCES siat.users(userId)
ON DELETE CASCADE;

ALTER TABLE siat.auction
ADD CONSTRAINTS FK_requestNum_auction FOREIGN KEY (requestNum)
REFERENCES siat.requestBoard(requestNum)
ON DELETE CASCADE;


// DROP CONSTRAINTS

ALTER TABLE siat.chat
DROP CONSTRAINT FK_chatToId;

ALTER TABLE siat.chat
DROP CONSTRAINT FK_chatFromId;

ALTER TABLE siat.designercart
DROP CONSTRAINT FK_userId_desginerCart;

ALTER TABLE siat.designercart
DROP CONSTRAINT FK_designerId_designerCart;

ALTER TABLE siat.contactboard
DROP CONSTRAINT FK_userId_contactBoard;

ALTER TABLE siat.requestboard
DROP CONSTRAINT FK_userId_requestBoard;

ALTER TABLE siat.requestdeal
DROP CONSTRAINT FK_dealrequestnum_requestdeal;

ALTER TABLE siat.requestdeal
DROP CONSTRAINT FK_dealbuyerId_requestdeal;

ALTER TABLE siat.requestdeal
DROP CONSTRAINT FK_dealsellerId_requestdeal;

ALTER TABLE siat.saledeal
DROP CONSTRAINT FK_dealbuyerId_saledeal;

ALTER TABLE siat.saledeal
DROP CONSTRAINT FK_dealsellerId_saledeal;

ALTER TABLE siat.saledeal
DROP CONSTRAINT FK_saleNum_saledeal;

ALTER TABLE siat.salecart
DROP CONSTRAINT FK_salecart_saleNum;

ALTER TABLE siat.salecart
DROP CONSTRAINT FK_salecart_userId;

ALTER TABLE siat.review
DROP CONSTRAINT FK_review_userId;

ALTER TABLE siat.review
DROP CONSTRAINT FK_review_salenum;

ALTER TABLE siat.saleboard
DROP CONSTRAINT FK_saleboard_designerId;

ALTER TABLE siat.auction
DROP CONSTRAINT FK_userId_auction;

ALTER TABLE siat.auction
DROP CONSTRAINT FK_requestNum_auction;